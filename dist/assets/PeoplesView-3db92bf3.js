import{d as N,e as l,f as L,r as B,o as i,c as o,g as t,h as A,v as M,F as m,i as f,j as g,a as T,w as P,b as S,t as n,k as $,l as D,n as C,p as G,m as H,_ as J}from"./index-39470123.js";import{A as w,u as O,M as x}from"./index-30e91658.js";const R="/assets/search-854045b2.svg",j=r=>(G("data-v-8d92427b"),r=r(),H(),r),z={class:"table"},E={class:"search"},U={class:"search__container"},q=j(()=>t("img",{src:R},null,-1)),K={key:0,class:"search__dropdawn"},Q=$('<div class="table__header" data-v-8d92427b><div class="header__item" data-v-8d92427b>Name</div><div class="header__item" data-v-8d92427b>Height</div><div class="header__item" data-v-8d92427b>Mass</div><div class="header__item" data-v-8d92427b>Hair color</div><div class="header__item" data-v-8d92427b>Add favorite</div></div>',1),W={class:"table__content"},X={key:0,class:"spin"},Y={class:"row__item"},Z={class:"row__item"},ee={class:"row__item"},te={class:"row__item"},se={class:"row__item"},ae=["onClick"],ie={key:0,class:"table__pagination"},oe=["onClick"],ne=N({__name:"PeoplesView",setup(r){const p=l([]),h=l([]);l([]);const c=l(!0),_=l(1),v=l(""),s=O();async function b(){c.value=!0,p.value=[],await s.dispatch(w.GetAllPeoples,_.value),p.value=s.getters.peoplesList,c.value=!1}async function k(a){a<10&&(c.value=!0,_.value=a,await b())}async function V(){h.value=[],await s.dispatch(w.GetSearchPeoples,v.value),h.value=s.getters.searchPeoplesList}function F(a){y(a.id)?(s.commit(x.DeleteFavoritesPerson,a),localStorage.setItem("favorites_list",JSON.stringify(s.getters.favoritePeople))):(s.commit(x.PushFavoritesPerson,a),localStorage.setItem("favorites_list",JSON.stringify(s.getters.favoritePeople)))}L(async()=>{await b(),s.dispatch(w.GetFavoritesPeoples,void 0)});function y(a){return s.getters.favoritePeople.findIndex(u=>u.id===a)!==-1}return(a,d)=>{const u=B("RouterLink");return i(),o("div",z,[t("div",E,[t("div",U,[A(t("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=e=>v.value=e),onInput:d[1]||(d[1]=e=>V())},null,544),[[M,v.value]]),q]),v.value?(i(),o("div",K,[(i(!0),o(m,null,f(h.value,e=>(i(),D(u,{key:e.id,to:"/peoples/"+e.id,class:"dropdawn__item"},{default:P(()=>[S(n(e.name),1)]),_:2},1032,["to"]))),128))])):g("",!0),T(u,{class:"search__btn",to:"/"},{default:P(()=>[S("Back")]),_:1})]),Q,t("div",W,[c.value?(i(),o("div",X)):g("",!0),(i(!0),o(m,null,f(p.value,e=>(i(),o("div",{class:"content__row",key:e.id},[t("div",Y,n(e.name),1),t("div",Z,n(e.height),1),t("div",ee,n(e.mass),1),t("div",te,n(e.hair_color),1),t("div",se,[t("button",{class:C(["btn-add",{inactive:y(e.id)}]),onClick:I=>F(e)},n("Favorite"),10,ae)])]))),128))]),c.value?g("",!0):(i(),o("div",ie,[(i(),o(m,null,f(9,e=>t("div",{key:e,class:C(["pagination__item",{active:e==_.value}]),onClick:I=>k(e)},n(e),11,oe)),64)),t("div",{class:"pagination__item",onClick:d[2]||(d[2]=e=>k(_.value+1))},n(">"))]))])}}});const ce=J(ne,[["__scopeId","data-v-8d92427b"]]);export{ce as default};
